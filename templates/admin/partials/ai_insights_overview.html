<!-- templates/admin/partials/ai_insights_overview.html -->
<div class="row">
    <div class="col-12">
        <div class="insight-card">
            <h3 class="text-white mb-4">
                <i class="fas fa-chart-line mr-2"></i>Business Overview
            </h3>
            <div class="metric-grid">
                <div class="metric-card">
                    <div class="metric-value">{{ business_data.basic_metrics.total_revenue|currency }}</div>
                    <div class="metric-label">Total Revenue</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">{{ business_data.basic_metrics.occupancy_rate }}%</div>
                    <div class="metric-label">Occupancy Rate</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">{{ business_data.basic_metrics.total_bookings }}</div>
                    <div class="metric-label">Total Bookings</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">{{ business_data.customer_metrics.average_rating|round(1) }}/5</div>
                    <div class="metric-label">Avg Rating</div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <div class="analysis-section">
            <h4><i class="fas fa-trophy text-warning mr-2"></i>Top Performing Rooms</h4>
            {% for room in business_data.performance_data.room_performance[:3] %}
            <div class="d-flex justify-content-between align-items-center p-3 border-bottom">
                <div>
                    <strong>{{ room.name }}</strong>
                    <small class="text-muted d-block">{{ room.type }}</small>
                </div>
                <div class="text-right">
                    <div class="text-success">₹{{ room.revenue|round|int }}</div>
                    <small class="text-muted">{{ room.occupancy|round(1) }}% occupancy</small>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <div class="col-md-6">
        <div class="analysis-section">
            <h4><i class="fas fa-users text-info mr-2"></i>Customer Segments</h4>
            {% for segment, data in business_data.customer_segments.items() %}
            <div class="d-flex justify-content-between align-items-center p-3 border-bottom">
                <div>
                    <strong>{{ segment|title }}</strong>
                    <small class="text-muted d-block">{{ data.count }} customers</small>
                </div>
                <div class="text-right">
                    <div class="text-primary">₹{{ data.total_spent|round|int }}</div>
                    <small class="text-muted">{{ data.avg_rating|round(1) }}/5 avg rating</small>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>